"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[500],{3500:(A,u,r)=>{r.r(u),r.d(u,{ListCharactersComponent:()=>b});var s=r(7340),g=r(6895),e=r(4650),c=r(433),d=r(2647),h=r(4784);let p=(()=>{class n{constructor(t){this.repository=t}search(t,a){return this.repository.search(t,a)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(h.M))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var m=r(7171),f=r(7341),C=r(5846);function v(n,i){1&n&&(e.TgZ(0,"p",28)(1,"span",29),e._uU(2,"Debe contener un m\xednimo de 3 caracteres."),e.qZA()())}function y(n,i){if(1&n&&e._UZ(0,"img",40),2&n){const t=e.oxw().$implicit,a=e.oxw();e.Q6J("src",t.image,e.LSH)("@opacityScale",!a.viewSkeleton)}}function _(n,i){1&n&&(e.TgZ(0,"div",41),e.O4$(),e.TgZ(1,"svg",42),e._UZ(2,"path",43),e.qZA()())}const x=function(n){return{status:n,typeClass:"dark"}},Z=function(n){return{status:n,typeClass:"light"}};function w(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",30),e.NdJ("click",function(){const l=e.CHM(t).$implicit,T=e.oxw();return e.KtG(T.onDetail(l))}),e.TgZ(2,"td",31),e._uU(3),e.qZA(),e.TgZ(4,"th",32)(5,"div",33),e.YNc(6,y,1,2,"img",34),e.YNc(7,_,3,0,"div",35),e._UZ(8,"span",36),e.qZA(),e.TgZ(9,"div",37)(10,"div",38),e._uU(11),e.qZA()()(),e.TgZ(12,"td",31)(13,"span",39),e._uU(14),e.ALo(15,"aliveOrDead"),e.qZA()()(),e.BQk()}if(2&n){const t=i.$implicit,a=e.oxw();e.xp6(3),e.Oqu(t.id),e.xp6(3),e.Q6J("ngIf",!a.viewSkeleton),e.xp6(1),e.Q6J("ngIf",a.viewSkeleton),e.xp6(1),e.Q6J("myClass",e.VKq(9,x,t.status)),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Q6J("myClass",e.VKq(11,Z,t.status)),e.xp6(1),e.Oqu(e.lcZ(15,7,t.status))}}let b=(()=>{class n{constructor(){this.query={filter:"",page:1,perPage:20},this.filter={name:"",status:"",gender:""},this.characters=[],this.total=0,this.items=0,this.pagination={currentPage:this.query.page,itemsPerPage:this.query.perPage},this.count=0,this.viewSkeleton=!1,this.searchUseCase=(0,e.f3M)(p),this.router=(0,e.f3M)(d.F0)}ngOnInit(){this.getSearch()}getSearch(){this.searchUseCase.search(this.pagination,this.filter).subscribe({next:t=>{this.characters=[],t.info&&(this.characters=t.results),this.total=t.info.pages,this.items=t.info.count},error:()=>{this.characters=[],this.total=0,this.items=0}})}setPage(t){this.startCounting(),this.query.perPage=t.itemsPerPage,this.query.page=t.currentPage,this.getSearch()}startCounting(){this.viewSkeleton=!0,this.intervalId=setInterval(()=>{this.count<1?this.count++:(this.viewSkeleton=!1,this.stopCounting())},1e3)}stopCounting(){clearInterval(this.intervalId)}onDetail(t){this.router.navigate([`./rick-and-morty/character/${t.id}`]).then()}onSearch(){this.pagination.currentPage=1,this.pagination.itemsPerPage=20,this.getSearch()}ngOnDestroy(){this.stopCounting()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-characters"]],standalone:!0,features:[e.jDz],decls:55,vars:10,consts:[[1,"mx-auto","px-4","py-4","sm:px-8","lg:container"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"flex-col","rounded-lg","bg-white","px-8","py-8","dark:bg-night-700","sm:flex-row"],[1,"mb-4","flex","items-center","justify-between"],[1,"relative","w-full"],[1,"z-20","absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","text-gray-500","dark:text-gray-400"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],[1,"relative","float-label-input"],["type","text","id","name","placeholder"," ","minlength","3",1,"block","w-full","bg-white","focus:outline-none","focus:shadow-outline","border","border-gray-300","rounded-md","py-2","px-2","block","appearance-none","leading-normal","focus:border-blue-400","pl-9",3,"ngModel","ngModelChange","keydown.enter"],["_search","ngModel"],["for","name",1,"absolute","top-2","left-7","text-gray-400","pointer-events-none","transition","duration-200","ease-in-outbg-white","px-2","text-grey-darker"],["class","mt-2 text-sm text-red-300 dark:text-red-500",4,"ngIf"],["id","character-type",1,"bg-white","focus:outline-none","focus:shadow-outline","border","border-gray-300","rounded-md","py-2","px-2","block","appearance-none","leading-normal","focus:border-blue-400",3,"ngModel","ngModelChange","change"],["selected","","value",""],["value","alive"],["value","dead"],["value","unknown"],[1,"label-float","absolute","text-xs","text-gray-400","pointer-events-none","transition","duration-200","ease-in-outbg-white","text-grey-darker"],["value","female"],["value","male"],["value","genderless"],[1,"w-full","border-collapse","bg-white","text-left","text-sm","text-gray-500"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-4","font-medium","text-gray-900"],[1,"divide-y","divide-gray-100","border-t","border-gray-100"],[4,"ngFor","ngForOf"],[3,"maxSize","ItotalPages","config","totalItems","viewtotalPages","pageChange"],[1,"mt-2","text-sm","text-red-300","dark:text-red-500"],[1,"font-medium"],[1,"hover:bg-gray-50","cursor-pointer",3,"click"],[1,"px-6","py-4"],[1,"flex","gap-3","px-6","py-4","font-normal","text-gray-900"],[1,"relative","h-10","w-10"],["class","h-full w-full rounded-full object-cover object-center","alt","",3,"src",4,"ngIf"],["class","flex items-center justify-center  h-10 bg-gray-300 rounded-full  w-10 dark:bg-gray-700",4,"ngIf"],[1,"absolute","right-0","bottom-0","h-2","w-2","rounded-full","ring","ring-white",3,"myClass"],[1,"text-sm"],[1,"font-medium","text-gray-700"],[1,"inline-flex","items-center","rounded-md","px-2","py-1","text-xs","font-medium","ring-1","ring-inset",3,"myClass"],["alt","",1,"h-full","w-full","rounded-full","object-cover","object-center",3,"src"],[1,"flex","items-center","justify-center","h-10","bg-gray-300","rounded-full","w-10","dark:bg-gray-700"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 18",1,"w-5","h-5","text-gray-200","dark:text-gray-600"],["d","M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"div",5),e.O4$(),e.TgZ(7,"svg",6),e._UZ(8,"path",7),e.qZA()(),e.kcU(),e.TgZ(9,"div",8)(10,"input",9,10),e.NdJ("ngModelChange",function(l){return a.filter.name=l})("keydown.enter",function(){return a.onSearch()}),e.qZA(),e.TgZ(12,"label",11),e._uU(13,"Nombre Personaje"),e.qZA()()(),e.YNc(14,v,3,0,"p",12),e.qZA(),e.TgZ(15,"div")(16,"div",4)(17,"select",13),e.NdJ("ngModelChange",function(l){return a.filter.status=l})("change",function(){return a.onSearch()}),e.TgZ(18,"option",14),e._uU(19,"Seleccione"),e.qZA(),e.TgZ(20,"option",15),e._uU(21,"Vivo"),e.qZA(),e.TgZ(22,"option",16),e._uU(23,"Muerto"),e.qZA(),e.TgZ(24,"option",17),e._uU(25,"Desconocido"),e.qZA()(),e.TgZ(26,"label",18),e._uU(27,"Estado"),e.qZA()()(),e.TgZ(28,"div")(29,"div",4)(30,"select",13),e.NdJ("ngModelChange",function(l){return a.filter.gender=l})("change",function(){return a.onSearch()}),e.TgZ(31,"option",14),e._uU(32,"Seleccione"),e.qZA(),e.TgZ(33,"option",19),e._uU(34,"Femenino"),e.qZA(),e.TgZ(35,"option",20),e._uU(36,"Masculino"),e.qZA(),e.TgZ(37,"option",21),e._uU(38,"sin g\xe9nero"),e.qZA(),e.TgZ(39,"option",17),e._uU(40,"Desconocido"),e.qZA()(),e.TgZ(41,"label",18),e._uU(42,"Genero"),e.qZA()()()()(),e.TgZ(43,"table",22)(44,"thead",23)(45,"tr")(46,"th",24),e._uU(47,"ID"),e.qZA(),e.TgZ(48,"th",24),e._uU(49,"Character"),e.qZA(),e.TgZ(50,"th",24),e._uU(51,"Estado"),e.qZA()()(),e.TgZ(52,"tbody",25),e.YNc(53,w,16,13,"ng-container",26),e.qZA()(),e.TgZ(54,"app-pagination",27),e.NdJ("pageChange",function(l){return a.setPage(l)}),e.qZA()()()),2&t){const o=e.MAs(11);e.xp6(10),e.Q6J("ngModel",a.filter.name),e.xp6(4),e.Q6J("ngIf",null==o.errors?null:o.errors.minlength),e.xp6(3),e.Q6J("ngModel",a.filter.status),e.xp6(13),e.Q6J("ngModel",a.filter.gender),e.xp6(23),e.Q6J("ngForOf",a.characters),e.xp6(1),e.Q6J("maxSize",5)("ItotalPages",a.total)("config",a.pagination)("totalItems",a.items)("viewtotalPages",!1)}},dependencies:[g.ez,g.sg,g.O5,c.u5,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.wO,c.On,m.Q,C.t,f.e],styles:[".float-label-input[_ngcontent-%COMP%]{margin:5px 0}.float-label-input[_ngcontent-%COMP%]:focus-within   label[_ngcontent-%COMP%], .float-label-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-1.5rem) scale(.75) translate(-3rem);background-color:#fff}.label-float[_ngcontent-%COMP%]{transform:translateY(-3.2rem) scale(1) translate(.55rem);background-color:#fff}"],data:{animation:[(0,s.X$)("opacityScale",[(0,s.eR)(":enter",[(0,s.oB)({opacity:0,transform:"scale(.95)"}),(0,s.jt)("100ms ease-out",(0,s.oB)({opacity:1,transform:"scale(1)"}))]),(0,s.eR)(":leave",[(0,s.oB)({opacity:1,transform:"scale(1)"}),(0,s.jt)("75ms ease-in",(0,s.oB)({opacity:0,transform:"scale(.95)"}))])])]}}),n})()}}]);